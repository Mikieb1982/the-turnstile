# =============================================================================
# Turnstile AI Backend - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3001
NODE_ENV=development

# -----------------------------------------------------------------------------
# Google AI Configuration
# -----------------------------------------------------------------------------
# Get your API key from: https://makersuite.google.com/app/apikey
GOOGLE_GENERATIVE_AI_API_KEY=your-api-key-here
GOOGLE_MODEL_ID=googleai/gemini-2.5-pro
MODEL_TEMPERATURE=0.2
MODEL_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Firebase Configuration
# -----------------------------------------------------------------------------
# Set to 'true' to use Firestore for job persistence (recommended for production)
# Set to 'false' to use in-memory storage (development only - data lost on restart)
USE_FIRESTORE=false

# Your Firebase project ID (required if USE_FIRESTORE=true)
FIREBASE_PROJECT_ID=your-project-id

# Path to your Firebase service account JSON file (optional)
# If not provided, will use Application Default Credentials
# Download from: Firebase Console > Project Settings > Service Accounts
FIREBASE_SERVICE_ACCOUNT_PATH=./firebase-key.json

# -----------------------------------------------------------------------------
# Project Paths
# -----------------------------------------------------------------------------
# Root directory for code generation (usually parent of this backend)
PROJECT_ROOT=./

# Directory for generated code/files
GENERATED_PATH=generated

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Time window for rate limiting (in milliseconds)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window for general API endpoints
RATE_LIMIT_MAX=100

# Maximum requests per window for DevOps endpoints
DEVOPS_RATE_LIMIT_MAX=10

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Logging level: error, warn, info, debug
LOG_LEVEL=info

# Log format: json, pretty
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Security (for future use)
# -----------------------------------------------------------------------------
# JWT secret for API authentication
# JWT_SECRET=your-secret-key-here

# Allowed CORS origins (comma-separated)
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Webhooks (for future use)
# -----------------------------------------------------------------------------
# Enable webhook notifications
# WEBHOOKS_ENABLED=false

# Webhook retry attempts
# WEBHOOK_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------
# Firestore emulator host (for local development)
# FIRESTORE_EMULATOR_HOST=localhost:8080

# Enable debug mode
# DEBUG=true
